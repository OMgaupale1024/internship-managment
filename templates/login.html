{% extends 'layout.html' %}
{% block content %}
<div class="login-container">
  <div class="row justify-content-center align-items-center min-vh-80">
    <div class="col-md-5 col-lg-4">
      <div class="card shadow-lg border-0 login-card">
        <div class="card-body p-5">
          <div class="text-center mb-4">
            <div class="login-icon mb-3">
              <i class="fa-solid fa-user-lock fa-3x text-primary"></i>
            </div>
            <h3 class="fw-bold mb-2">Welcome Back</h3>
            <p class="text-muted">Sign in to your account</p>
          </div>
          
          {% if error %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              <i class="fa-solid fa-circle-exclamation me-2"></i>{{ error }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endif %}
          
          <form method="post" id="loginForm">
            <div class="mb-3">
              <label class="form-label fw-semibold">
                <i class="fa-solid fa-user me-2 text-muted"></i>Username
              </label>
              <input type="text" class="form-control form-control-lg" name="username" required autofocus placeholder="Enter your username">
            </div>
            
            <div class="mb-3">
              <label class="form-label fw-semibold">
                <i class="fa-solid fa-lock me-2 text-muted"></i>Password
              </label>
              <div class="input-group">
                <input type="password" class="form-control form-control-lg" name="password" id="password" required placeholder="Enter your password">
                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                  <i class="fa-solid fa-eye" id="eyeIcon"></i>
                </button>
              </div>
            </div>
            
            <div class="mb-3 d-flex justify-content-between align-items-center">
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="remember" name="remember">
                <label class="form-check-label" for="remember">Remember me</label>
              </div>
              <a href="/forgot-password" class="text-decoration-none small">Forgot Password?</a>
            </div>
            
            <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">
              <i class="fa-solid fa-sign-in-alt me-2"></i>Sign In
            </button>
            
            <div class="text-center">
              <p class="text-muted mb-0">
                Don't have an account? 
                <a href="/register" class="text-decoration-none fw-semibold">Create Account</a>
              </p>
            </div>
          </form>
          
          <div class="mt-4 pt-4 border-top">
            <p class="text-center text-muted small mb-2">Quick Login for Testing:</p>
            <div class="d-grid gap-2">
              <button type="button" class="btn btn-sm btn-outline-primary" onclick="quickLogin('admin', '1024')">
                <i class="fa-solid fa-user-shield me-2"></i>Admin Login
              </button>
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-success" onclick="quickLogin('acme_corp', '1024')">
                  <i class="fa-solid fa-building me-2"></i>Company
                </button>
                <button type="button" class="btn btn-sm btn-outline-info" onclick="quickLogin('aman_v', '1024')">
                  <i class="fa-solid fa-graduation-cap me-2"></i>Student
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function quickLogin(username, password) {
  document.querySelector('input[name="username"]').value = username;
  document.querySelector('input[name="password"]').value = password;
  document.getElementById('loginForm').submit();
}

document.getElementById('togglePassword').addEventListener('click', function() {
  const passwordInput = document.getElementById('password');
  const eyeIcon = document.getElementById('eyeIcon');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.classList.remove('fa-eye');
    eyeIcon.classList.add('fa-eye-slash');
  } else {
    passwordInput.type = 'password';
    eyeIcon.classList.remove('fa-eye-slash');
    eyeIcon.classList.add('fa-eye');
  }
});
</script>
{% endblock %}
